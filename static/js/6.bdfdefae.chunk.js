(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[6],{433:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1),r=n(19),c=(n(0),n(6));function o(e){return function(t){var n=Object(r.h)().userID,o=Object(r.g)();return Object(c.jsx)(e,Object(a.a)(Object(a.a)({},t),{},{userIdFromURL:n,navigate:o}))}}},435:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(29),r=n(17),c=n.n(r),o=n(138),i=n(438),s=n.n(i),l=function(e,t,n,r){return function(){var i=Object(a.a)(c.a.mark((function a(i){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise((function(a){setTimeout((function(){var c={avatar:n,content:r,author:t,datetime:s()().fromNow(),userId:e.toString()};i(Object(o.b)(e.toString(),t,n)),i(Object(o.c)(c,e.toString())),a(!0)}),2e3)})));case 1:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()},u=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(a,r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){setTimeout((function(){var c=r().authState.photos,i=r().authState.id,l={avatar:c?c.small:"",content:t,author:r().authState.login,datetime:s()().fromNow(),userId:i?i.toString():""};e&&a(Object(o.c)(l,e)),n(!0)}),2e3)})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},454:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n(10),c=n(11),o=n(14),i=n(13),s=n(17),l=n.n(s),u=n(35),m=n(1),f=n(5),b=n(0),d=n(7),p=n(2),v=n(3),g=n(9),O=n(4),j=n.n(O),h=n(415),y=n(436),x=n(91),E=n(81),C=n(447),N=n(222),w=n(123),S=n(20),k=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},I=function(e){var t=e.prefixCls,n=e.children,a=e.actions,r=e.extra,c=e.className,o=e.colStyle,i=k(e,["prefixCls","children","actions","extra","className","colStyle"]),s=b.useContext(L),l=s.grid,u=s.itemLayout,m=b.useContext(E.b).getPrefixCls,f=m("list",t),d=a&&a.length>0&&b.createElement("ul",{className:"".concat(f,"-item-action"),key:"actions"},a.map((function(e,t){return b.createElement("li",{key:"".concat(f,"-item-action-").concat(t)},e,t!==a.length-1&&b.createElement("em",{className:"".concat(f,"-item-action-split")}))}))),g=l?"div":"li",O=b.createElement(g,Object(p.a)({},i,{className:j()("".concat(f,"-item"),Object(v.a)({},"".concat(f,"-item-no-flex"),!("vertical"===u?r:!function(){var e;return b.Children.forEach(n,(function(t){"string"===typeof t&&(e=!0)})),e&&b.Children.count(n)>1}())),c)}),"vertical"===u&&r?[b.createElement("div",{className:"".concat(f,"-item-main"),key:"content"},n,d),b.createElement("div",{className:"".concat(f,"-item-extra"),key:"extra"},r)]:[n,d,Object(S.a)(r,{key:"extra"})]);return l?b.createElement(w.a,{flex:1,style:o},O):O};I.Meta=function(e){var t=e.prefixCls,n=e.className,a=e.avatar,r=e.title,c=e.description,o=k(e,["prefixCls","className","avatar","title","description"]),i=(0,b.useContext(E.b).getPrefixCls)("list",t),s=j()("".concat(i,"-item-meta"),n),l=b.createElement("div",{className:"".concat(i,"-item-meta-content")},r&&b.createElement("h4",{className:"".concat(i,"-item-meta-title")},r),c&&b.createElement("div",{className:"".concat(i,"-item-meta-description")},c));return b.createElement("div",Object(p.a)({},o,{className:s}),a&&b.createElement("div",{className:"".concat(i,"-item-meta-avatar")},a),(r||c)&&l)};var M=I,P=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},L=b.createContext({});L.Consumer;function F(e){var t,n=e.pagination,a=void 0!==n&&n,r=e.prefixCls,c=e.bordered,o=void 0!==c&&c,i=e.split,s=void 0===i||i,l=e.className,u=e.children,m=e.itemLayout,O=e.loadMore,w=e.grid,S=e.dataSource,k=void 0===S?[]:S,I=e.size,M=e.header,F=e.footer,z=e.loading,U=void 0!==z&&z,R=e.rowKey,T=e.renderItem,A=e.locale,J=P(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),K=a&&"object"===Object(g.a)(a)?a:{},D=b.useState(K.defaultCurrent||1),H=Object(f.a)(D,2),W=H[0],q=H[1],B=b.useState(K.defaultPageSize||10),G=Object(f.a)(B,2),Q=G[0],V=G[1],X=b.useContext(E.b),Y=X.getPrefixCls,Z=X.renderEmpty,$=X.direction,_={},ee=function(e){return function(t,n){q(t),V(n),a&&a[e]&&a[e](t,n)}},te=ee("onChange"),ne=ee("onShowSizeChange"),ae=Y("list",r),re=U;"boolean"===typeof re&&(re={spinning:re});var ce=re&&re.spinning,oe="";switch(I){case"large":oe="lg";break;case"small":oe="sm"}var ie=j()(ae,(t={},Object(v.a)(t,"".concat(ae,"-vertical"),"vertical"===m),Object(v.a)(t,"".concat(ae,"-").concat(oe),oe),Object(v.a)(t,"".concat(ae,"-split"),s),Object(v.a)(t,"".concat(ae,"-bordered"),o),Object(v.a)(t,"".concat(ae,"-loading"),ce),Object(v.a)(t,"".concat(ae,"-grid"),!!w),Object(v.a)(t,"".concat(ae,"-something-after-last-item"),!!(O||a||F)),Object(v.a)(t,"".concat(ae,"-rtl"),"rtl"===$),t),l),se=Object(p.a)(Object(p.a)(Object(p.a)({},{current:1,total:0}),{total:k.length,current:W,pageSize:Q}),a||{}),le=Math.ceil(se.total/se.pageSize);se.current>le&&(se.current=le);var ue=a?b.createElement("div",{className:"".concat(ae,"-pagination")},b.createElement(C.a,Object(p.a)({},se,{onChange:te,onShowSizeChange:ne}))):null,me=Object(d.a)(k);a&&k.length>(se.current-1)*se.pageSize&&(me=Object(d.a)(k).splice((se.current-1)*se.pageSize,se.pageSize));var fe=Object(y.a)(),be=b.useMemo((function(){for(var e=0;e<x.b.length;e+=1){var t=x.b[e];if(fe[t])return t}}),[fe]),de=b.useMemo((function(){if(w){var e=be&&w[be]?w[be]:w.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===w||void 0===w?void 0:w.column,be]),pe=ce&&b.createElement("div",{style:{minHeight:53}});if(me.length>0){var ve=me.map((function(e,t){return function(e,t){return T?((n="function"===typeof R?R(e):R?e[R]:e.key)||(n="list-item-".concat(t)),_[t]=n,T(e,t)):null;var n}(e,t)})),ge=b.Children.map(ve,(function(e,t){return b.createElement("div",{key:_[t],style:de},e)}));pe=w?b.createElement(N.a,{gutter:w.gutter},ge):b.createElement("ul",{className:"".concat(ae,"-items")},ve)}else u||ce||(pe=function(e,t){return b.createElement("div",{className:"".concat(e,"-empty-text")},A&&A.emptyText||t("List"))}(ae,Z));var Oe=se.position||"bottom",je=b.useMemo((function(){return{grid:w,itemLayout:m}}),[JSON.stringify(w),m]);return b.createElement(L.Provider,{value:je},b.createElement("div",Object(p.a)({className:ie},J),("top"===Oe||"both"===Oe)&&ue,M&&b.createElement("div",{className:"".concat(ae,"-header")},M),b.createElement(h.a,re,pe,u),F&&b.createElement("div",{className:"".concat(ae,"-footer")},F),O||("bottom"===Oe||"both"===Oe)&&ue))}F.Item=M;var z=F,U=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},R=function(e){var t=e.actions,n=e.author,a=e.avatar,r=e.children,c=e.className,o=e.content,i=e.prefixCls,s=e.datetime,l=U(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),u=b.useContext(E.b),m=u.getPrefixCls,f=u.direction,d=m("comment",i),g=a?b.createElement("div",{className:"".concat(d,"-avatar")},"string"===typeof a?b.createElement("img",{src:a,alt:"comment-avatar"}):a):null,O=t&&t.length?b.createElement("ul",{className:"".concat(d,"-actions")},t.map((function(e,t){return b.createElement("li",{key:"action-".concat(t)},e)}))):null,h=(n||s)&&b.createElement("div",{className:"".concat(d,"-content-author")},n&&b.createElement("span",{className:"".concat(d,"-content-author-name")},n),s&&b.createElement("span",{className:"".concat(d,"-content-author-time")},s)),y=b.createElement("div",{className:"".concat(d,"-content")},h,b.createElement("div",{className:"".concat(d,"-content-detail")},o),O),x=j()(d,Object(v.a)({},"".concat(d,"-rtl"),"rtl"===f),c);return b.createElement("div",Object(p.a)({},l,{className:x}),b.createElement("div",{className:"".concat(d,"-inner")},g,y),r?function(e,t){return b.createElement("div",{className:j()("".concat(e,"-nested"))},t)}(d,r):null)},T=n(6),A=function(e){var t=e.messages;return Object(T.jsx)(z,{dataSource:t,header:"Messages with NAME",itemLayout:"horizontal",renderItem:function(e){return Object(T.jsx)(R,Object(m.a)({},e))}})},J=n(420),K=n(419),D=n(154),H=J.a.TextArea,W=function(e){var t=e.onChange,n=e.onSubmit,a=e.submitting,r=e.value;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(K.a.Item,{children:Object(T.jsx)(H,{rows:4,onChange:t,value:r})}),Object(T.jsx)(K.a.Item,{children:Object(T.jsx)(D.a,{htmlType:"submit",loading:a,onClick:n,type:"primary",children:"Add Comment"})})]})},q=Object(b.memo)((function(e){e.userIdFromURL;var t=e.messages,n=e.sendMessageCallback,r=Object(b.useState)({submitting:!1,value:""}),c=Object(f.a)(r,2),o=c[0],i=c[1],s=function(){var e=Object(a.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.value){e.next=2;break}return e.abrupt("return");case 2:return i(Object(m.a)(Object(m.a)({},o),{},{submitting:!0})),e.next=5,n(d).then((function(){i({submitting:!1,value:""})})).catch((function(){console.log("error")})).finally((function(){i(Object(m.a)(Object(m.a)({},o),{},{submitting:!1}))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=o.submitting,d=o.value;return Object(T.jsxs)(T.Fragment,{children:[t.length>0&&Object(T.jsx)(A,{messages:t}),Object(T.jsx)(W,{onChange:function(e){i(Object(m.a)(Object(m.a)({},o),{},{value:e.target.value}))},onSubmit:s,submitting:u,value:d})]})})),B=n(82),G=n(433),Q=n(149),V=n(435),X=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shouldComponentUpdate=function(t){return e.props.userIdFromURL!==t.userIdFromURL},e.userIdFromURL=e.props.userIdFromURL,e.sendMessageCallback=function(){var t=Object(a.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.sendMessage(e.userIdFromURL,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(n,[{key:"render",value:function(){return Object(T.jsx)(q,{userIdFromURL:this.userIdFromURL,messages:this.props.usersMessages[this.userIdFromURL],sendMessageCallback:this.sendMessageCallback})}}]),n}(b.Component);t.default=Object(B.c)(Object(u.b)((function(e){return{usersMessages:e.messagesPage.usersMessages}}),{sendMessage:V.a}),G.a,Q.a)(X)}}]);
//# sourceMappingURL=6.bdfdefae.chunk.js.map